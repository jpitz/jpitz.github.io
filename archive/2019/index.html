<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link type="application/atom+xml" rel="alternate" href="https://www.mjpitz.com/feed.xml" title="Mya Pitzeruse" />
        <meta name="author" content="Mya Pitzeruse">

        <title>
            
                
            
        </title>

        

        <link rel="stylesheet" href="/statics/libs/bootstrap-3.3.7/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/statics/libs/font-awesome-5.4.1/css/all.min.css">
        <link rel="stylesheet" href="/statics/css/syntax-highlighting.css"/>
        <link rel="stylesheet" href="/statics/css/app.css"/>

        <link rel="apple-touch-icon" sizes="180x180" href="/statics/img/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/statics/img/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/statics/img/favicon-16x16.png">
        <link rel="manifest" href="/statics/img/site.webmanifest">
        <link rel="mask-icon" href="/statics/img/safari-pinned-tab.svg" color="#a28ad2">
        <link rel="shortcut icon" href="/statics/img/favicon.ico">
        <link rel="icon" href="/statics/img/favicon.ico" type="image/x-icon">
        <meta name="msapplication-TileColor" content="#eeeeee">
        <meta name="msapplication-config" content="/statics/img/browserconfig.xml">
        <meta name="theme-color" content="#eeeeee">
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div class="navbar-brand">@mjpitz</div>
                </div>

                <div class="collapse navbar-collapse" id="menu">
                    <ul class="nav navbar-nav mr-auto">
                        <li>
                            <a href="/">
                                <i class="fas fa-home" title="Blog" data-toggle="tooltip" data-placement="bottom">
                                    <span>Blog</span>
                                </i>
                                Blog
                            </a>
                        </li>
                    </ul>
                    
                    <ul class="nav navbar-nav nav-social">
                        <li>
                            <a href="https://medium.com/@mjpitz">
                                <i class="fab fa-medium" title="Medium" data-toggle="tooltip" data-placement="bottom">
                                    <span>Medium</span>
                                </i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="http://www.github.com/mjpitz">
                                <i class="fab fa-github" title="GitHub" data-toggle="tooltip" data-placement="bottom">
                                    <span>GitHub</span>
                                </i>
                            </a>
                        </li>

                        <li>
                            <a href="https://hub.docker.com/u/mjpitz">
                                <i class="fab fa-docker" title="Docker" data-toggle="tooltip" data-placement="bottom">
                                    <span>Docker</span>
                                </i>
                            </a>
                        </li>
                        
                        <li>
                            <a href="http://www.twitter.com/_mjpitz_">
                                <i class="fab fa-twitter" title="Twitter" data-toggle="tooltip" data-placement="bottom">
                                    <span>Twitter</span>
                                </i>
                            </a>
                        </li>

                        <li>
                            <a href="http://www.linkedin.com/in/mjpitz">
                                <i class="fab fa-linkedin" title="LinkedIn" data-toggle="tooltip" data-placement="bottom">
                                    <span>LinkedIn</span>
                                </i>
                            </a>
                        </li>

                        <li>
                            <a href="/feed.xml">
                                <i class="fas fa-rss" title="Feed" data-toggle="tooltip" data-placement="bottom">
                                    <span>Feed</span>
                                </i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container mjpitz-content" style="margin-top:82px">
            <div class="panel panel-default">
    <div class="panel-body">
        <div class="post">
            
            <h1>Posts from 2019</h1>
            

            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/10/17/kubernetes-service-precheck/">
                    <h2>Checking Service Dependencies in Kubernetes</h2>
                </a>
                <div>
                    <p>October 17, 2019</p>
                </div>

                <div>
                    <p>Back in July, I found myself needing to better coordinate deployments of my applications to <a href="https://kubernetes.io/">Kubernetes</a>.
After searching around, I found many ways that people where trying to solve this problem.
Some used shell scripts to apply multiple YAML files with a fixed time sleep between them.
Others used shell scripts and tailed the rollout using <code class="highlighter-rouge">kubectl rollout status -w</code>.
Now, I manage a lot of my deployments using <a href="https://www.weave.works/technologies/gitops/">GitOps</a> and <a href="https://github.com/fluxcd/flux">Flux</a>.
So leveraging these shell scripts to manage my rollouts into clusters wasn’t really an option.</p>

<p>It wasn’t until I came across <a href="https://us.alibabacloud.com">Alibaba Cloud’s</a> blog post on <a href="https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110">solving service dependencies</a> that I felt like I had something to work with.
The article described two techniques. 
The first was inspecting dependencies within the application itself. 
At Indeed, we leverage our <a href="http://github.com/indeedeng/status">status</a> library to do this. 
The second was to enable services to be checked, independent of the application.</p>

<p>In this post, I’ll demonstrate how to use my <a href="https://hub.docker.com/r/mjpitz/service-precheck">service-precheck</a> initialization container (built off of the Alibaba blog post) to ensure upstream systems are up before attempting to start a downstream system.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/10/17/kubernetes-service-precheck/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/05/07/docker-buildx/">
                    <h2>Using docker-buildx for Multi-architecture Containers</h2>
                </a>
                <div>
                    <p>May 07, 2019</p>
                </div>

                <div>
                    <p>When you build a container image, it’s typically only built for one platform (<code class="highlighter-rouge">linux</code>) and one architecture (<code class="highlighter-rouge">amd64</code>).
As the Internet of Things continues to grow, the demand for more <code class="highlighter-rouge">arm</code> images increased as well.
Traditionally, in order to produce an <code class="highlighter-rouge">arm</code> image, you need an <code class="highlighter-rouge">arm</code> device to do the build on.
As a result, most projects wind up missing <code class="highlighter-rouge">arm</code> support.</p>

<p><a href="https://github.com/moby/buildkit">BuildKit</a> provides emulation capabilities that support multi-architecture builds.
With BuildKit, you build container images across multiple architectures concurrently.
This core utility backs <code class="highlighter-rouge">docker buildx</code>, a multi-architecture build utility for docker.
In this post, I’ll discuss why you should produce multi-architecture container images and demonstrate how to use <code class="highlighter-rouge">docker buildx</code> to do it.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/05/07/docker-buildx/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/05/02/from-apache2-to-mit/">
                    <h2>Moving Licenses - Apache 2.0 to MIT</h2>
                </a>
                <div>
                    <p>May 02, 2019</p>
                </div>

                <div>
                    <p>Yesterday, I decided to switch the license that I apply to my personal projects.
Many open source projects use the Apache 2.0 license.
After reading through it a few times, I liked the level of coverage that it provided.
It was however a bit wordy in my opinion.
These were often simple little side projects that I was hacking on in my free time.</p>

<p>After some discussion with others in the community and a few podcasts, I decided to make a switch.
I wanted to preserve a lot of what the Apache license granted, but simplify the wording quite a bit.
The MIT license enables many of the same grants, while reducing the verbiage used to describe them.
As an Engineer, I understand MIT much more than I understand the Apache license.
From discussions, the MIT license often presents a lower barrier to entry when compared to Apache.
This was exactly what I was looking for on my side projects.</p>

                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/05/02/from-apache2-to-mit/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/04/21/monitoring-rpi-cluster/">
                    <h2>Raspberry Pi Cluster Monitoring</h2>
                </a>
                <div>
                    <p>April 21, 2019</p>
                </div>

                <div>
                    <p>In my last few posts, I talked a bit about my at home development cluster.
Due to the flexibility of my cluster, I wanted to provide a monitoring solution that was valuable across each technology I use.
In this post, I discuss how monitoring is setup on my cluster.
I’ll walk through setting up each node, the Prometheus server, and the Graphana UI.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/04/21/monitoring-rpi-cluster/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/04/12/rpi-cluster-setup/">
                    <h2>Raspberry Pi Cluster Setup</h2>
                </a>
                <div>
                    <p>April 12, 2019</p>
                </div>

                <div>
                    <p>Previously, I talked about the different orchestration technologies that I’ve run on my Raspberry Pi cluster.
That post was rather high level and only contained details relating to k3s.
In this post, we’ll take a more in depth look at my cluster setup and my management process around it.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/04/12/rpi-cluster-setup/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/04/10/k8s-k3s-rpi-oh-my/">
                    <h2>k3s on Raspberry Pi</h2>
                </a>
                <div>
                    <p>April 10, 2019</p>
                </div>

                <div>
                    <p>Over the last few days, I’ve been revisiting <a href="https://kubernetes.io">Kubernetes</a> on my Raspberry Pi cluster.
I hope to share what I learned in the process and some of the tooling that I discovered along the way.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/04/10/k8s-k3s-rpi-oh-my/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/03/17/64bit-raspberry-pi/">
                    <h2>Easy Steps to a 64bit Raspberry Pi 3 B/B+</h2>
                </a>
                <div>
                    <p>March 17, 2019</p>
                </div>

                <div>
                    <p>I was quite surprised to see how under documented installing a 64 bit operating system onto a Raspberry Pi is.
Many articles out there talk about needing to compile Linux, which sounds oh-so-pleasant.
One day, I stumbled across a 64bit OpenSUSE version that was compatible, but the installation instructions required a Linux OS to be done properly.
Since I primarily work on OSX, this presented yet another barrier.</p>

<p>After a lot of searching around, I finally found a straight forward and simple way to do it.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/03/17/64bit-raspberry-pi/">Read More &raquo;</a>
                </p>
            </div>
            
            <div style="padding: 15px 0;">
                <a href="/blog/2019/01/30/gitfs-a-fuse-file-system/">
                    <h2>gitfs - A FUSE File System</h2>
                </a>
                <div>
                    <p>January 30, 2019</p>
                </div>

                <div>
                    <p>During my first employment at Indeed, I cloned every repository down to my machine.
This approach worked for a while when the number of repositories was small.
As the organization has grown, the solution quickly became unmanageable.
While many people do not work across every repository, many are familiar with the pain of setting up a new machine.
I wrote <a href="https://github.com/mjpitz/gitfs">gitfs</a> for a few reasons.
First, to reduce the time spent setting up a new development environment.
Second, to remove the need to figure out where all my projects need to be cloned.
In this post, I discuss some challenges faced and lessons learned in writing my first file system.</p>


                </div>

                <p style="text-align: right">
                    <a href="/blog/2019/01/30/gitfs-a-fuse-file-system/">Read More &raquo;</a>
                </p>
            </div>
            
        </div>
    </div>
</div>

        </div>
        <div style="padding:25px 0; margin-top: 50px;">
    <div>
        
<!-- Google Analytics (http://google.com/analytics) -->
<script>
    !function(j,e,k,y,l,L){j.GoogleAnalyticsObject=y,j[y]||(j[y]=function(){
        (j[y].q=j[y].q||[]).push(arguments)}),j[y].l=+new Date,l=e.createElement(k),
            L=e.getElementsByTagName(k)[0],l.src='//www.google-analytics.com/analytics.js',
            L.parentNode.insertBefore(l,L)}(window,document,'script','ga');
    ga('create', 'UA-39314903-5', 'auto');
    ga('send', 'pageview');
</script>



        <script src="/statics/libs/jquery-2.1.4/jquery.min.js"></script>
        <script src="/statics/libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>

        <script>
            $(function () {
                //$('[data-toggle="tooltip"]').tooltip();
                $('.collapse').collapse({ toggle: false })
            });
        </script>
    </div>
</div>
    </body>
</html>
